# 面试官可能问的问题
1. 状态码相关，大的划分？然后是302 304区别（腾讯问过）？工作中遇到过什么，怎么解决？
2. 常见的响应头部有什么？


## 解答

### 1. 状态码相关，大的划分？然后是301、302区别（腾讯问过）？工作中遇到过什么，怎么解决？

**状态码相关，大的划分？**
- 1xx 消息，比如继续发送
- 2xx 成功
- 3xx 重定向
- 4xx 请求错误/客户端错误
- 5xx 服务端错误

**301、302区别**
- 302是临时重定向，301是永久重定向
- 301重定向是页面永久性转移，表示为资源或页面永久性地转移到了另一个位置，搜索引擎在抓取新内容的同时也将旧的网址替换成重定向之后的网址；
- 302重定向是页面暂时性转移，示资源或页面暂时转移到另一个位置 ,搜索引擎会抓取新的内容而保存旧的网址并认为新的网址只是暂时的。
- 尽量要使用301跳转——防止网址劫持
  302跳转有的时候会出现网络劫持，比如a调到b，b的内容好但是url太长，a的短，有可能就会用a的地址b的内容。
  
  也就是说，一个不道德的人在他自己的网址A 做一个302 重定向到你的网址B，出于某种原因， Google 搜索结果所显示的仍然是网址A，但是所用的网页内容却是你的网址B 上的内容，这种情况就叫做网址URL 劫持。
  
  你辛辛苦苦所写的内容就这样被别人偷走了。

  这样会影响到两个网站的排名，b的排名就影响了。

**301重定向有什么优点？**
url权重的集中。

有利于网站首选域的确定，对于同一资源页面多条路径的301重定向有助于URL权重的集中。

例如 www.conimi.com和 conimi.com 是两个不同的域名，但是指向的内容完全相同，搜索引擎会对两个域名收录情况不同，这样导致网站权重和排名被分散；对conimi.com 做301重定向跳转至www.conimi.com 后，权重和排名集中到www.conimi.com，从而提升自然排名。

**工作中遇到过什么，怎么解决？**
- 499 客户端主动断开连接
这个是在php调用另一个服务B的时候，服务B那边记录的一个ningx log，这是因为php写的超时时间是3秒，但是B那边其实还没有处理完，但是php这边把链接就断开了，所以一直不成功。

- 500
  是因为vendor 里面引入了文件没有找到所以报的是500，这个是因为其它项目的问题，mac不区分大小写，在这里能看到这个 /home/xiaoju/php7/logs/php-error.log，错误信息。
- 502
  在nignx+php-fpm的架构中，有可能是php-fpm没有启动
- 504 
  目录换了，但是php-fpm没有重新启动，重新启动一下就好了，之前自己没有遇到过这个问题，是同事那里遇到了。

- 404
 文件或者方法没有找到，权限、路径的问题
 
 还是大小写问题，不过是因为框架的问题，文件不能有小写，但是是404了，所以不会报上面的php错误。

### 2. 常见的响应头部有什么？
Content-length、Access-Control-Allow-Origin（跨域问题）、Content-Type、Etag